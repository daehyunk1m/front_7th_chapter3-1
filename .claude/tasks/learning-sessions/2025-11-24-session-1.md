# 📚 학습 세션 - 2025-11-24

> 💡 **세션 정보**
> - 세션 번호: Session 1
> - 날짜: 2025년 11월 24일
> - 진행 Phase: Phase 1 (준비 및 이해)
> - 완료 태스크: 4개

---

## 🎯 오늘의 목표

1. Chapter3-1 과제 전체 구조 파악
2. Before 패키지의 문제점 분석
3. 마이그레이션 계획 수립
4. TailwindCSS 환경 설정 완료

---

## 💬 질문과 답변

### Q1: before와 after 패키지가 다른가요?
**A**: 현재는 완전히 동일합니다. `after` 패키지가 마이그레이션 대상이고, 지금부터 모던 디자인 시스템으로 변경해야 합니다.

### Q2: pnpm add -D로 설치하는 이유는?
**A**: TailwindCSS는 빌드 타임에만 필요한 개발 도구입니다.
- **빌드 단계**: TailwindCSS가 유틸리티 클래스를 실제 CSS로 변환
- **런타임**: 생성된 CSS만 필요, TailwindCSS 라이브러리는 불필요
- **결과**: 번들 크기 최적화 및 프로덕션 환경에서 불필요한 패키지 제외

### Q3: Form 컴포넌트들의 API 일관성 문제는?
**A**: 같은 기능에 다른 이름 사용:
- FormInput: `width` (small/medium/large/full)
- FormSelect: `size` (sm/md/lg)
- FormTextarea: 크기 조절 props 없음

→ 개발자가 혼란스러워하고 각 컴포넌트마다 다른 방식으로 사용해야 함

---

## 💡 학습한 개념

### 1. Before 패키지의 핵심 문제점

#### 🚨 관심사 분리 실패
- **UI 컴포넌트가 비즈니스 로직 포함**
  - Button: 사용자 권한 체크, 게시물 상태 확인
  - FormInput: 예약어 검증, 회사 이메일 도메인 체크, 금칙어 필터링

```tsx
// ❌ Bad: UI 컴포넌트가 도메인 규칙을 알고 있음
fieldType?: 'username' | 'email' | 'postTitle'
entityType?: 'user' | 'post'
checkBusinessRules?: boolean
```

#### 🚨 동적 클래스 처리
- 각 컴포넌트마다 반복되는 클래스 생성 로직
```tsx
const inputClasses = ['form-input', displayError && 'error', `input-width-${width}`]
  .filter(Boolean).join(' ');
```

#### 🚨 API 일관성 부족
| 기능 | FormInput | FormSelect | FormTextarea |
|------|-----------|------------|--------------|
| 크기 | `width` | `size` | ❌ 없음 |
| 값 | small/medium/large/full | sm/md/lg | - |

#### 🚨 하드코딩된 스타일
```tsx
<span style={{ color: '#d32f2f' }}>*</span>
```

### 2. Atomic Design vs 실무

**개념**: atoms → molecules → organisms → templates → pages

**실무**:
- shadcn/ui는 flat 구조 사용 (`components/ui/`)
- 이유:
  - 컴포넌트 분류가 명확하지 않을 때가 많음
  - 불필요한 중첩 구조
  - 실용성이 더 중요

### 3. TailwindCSS v4 특징

- **설정 파일 선택사항**: CSS에서 직접 `@import "tailwindcss"`
- **Vite 플러그인**: `@tailwindcss/vite` 사용
- **빌드 도구로서의 역할**: 개발/빌드 시에만 필요 (devDependencies)

### 4. 마이그레이션 전략

**우선순위 결정 기준**:
1. ✅ **의존성이 적은 컴포넌트부터** (atoms → molecules → organisms)
2. ✅ **간단한 것부터** (Button, Badge)
3. ✅ **기준 컴포넌트 먼저** (Button으로 CVA 패턴 학습)

**이유**:
- 변경 시 사이드 이펙트 최소화
- 패턴을 먼저 익히고 다른 컴포넌트에 적용
- 점진적 학습 가능

---

## 💻 작성한 코드

### 설정 파일 수정

#### [vite.config.ts](packages/after/vite.config.ts)
```typescript
import tailwindcss from '@tailwindcss/vite'

export default defineConfig({
  plugins: [react(), tailwindcss()],
  // ...
})
```

#### [src/styles/components.css](packages/after/src/styles/components.css)
```css
@import "tailwindcss";

/* 기존 CSS 유지 */
```

#### 테스트 코드 (App.tsx)
```tsx
<div className='bg-blue-500 text-white p-4'>test</div>
```

---

## 🚧 막혔던 문제

### 문제 1: TailwindCSS 설치 후 설정 방법 불확실
**원인**: TailwindCSS v4는 v3와 설정 방법이 다름
**해결**:
- v4는 `@tailwindcss/vite` 플러그인 사용
- `tailwind.config.js` 대신 CSS에서 `@import "tailwindcss"`
- Vite 플러그인 배열에 추가

**배운 점**: 버전별 공식 문서 확인이 중요

---

## 📦 Git 커밋

| 커밋 해시 | 작성자 | 날짜 | 메시지 |
|-----------|--------|------|--------|
| bb25447 | daehyun kim | 2025-11-24 23:20:32 | Chore: 에이전트 페어 프로그래밍을 위한 에이전트 세팅 |

---

## ✅ 완료한 것

- [x] 프로젝트 문서 읽고 이해하기 (chapter_goal.md, CLAUDE.md)
- [x] 개발 환경 설정 및 before/after 실행 확인
- [x] Before 패키지 전체 구조 파악
  - [x] Button 컴포넌트 분석 (비즈니스 로직 혼재, 동적 클래스 처리)
  - [x] Form 컴포넌트 분석 (API 일관성 문제)
- [x] 학습 목표 및 마이그레이션 계획 수립
  - [x] 우선순위 결정 (Button부터 시작)
  - [x] 의존성 기반 순서 정하기
- [x] TailwindCSS 설치 및 설정
  - [x] tailwindcss, @tailwindcss/vite 패키지 설치
  - [x] vite.config.ts 플러그인 추가
  - [x] CSS 파일에 @import 추가
- [x] TailwindCSS 동작 테스트 (정상 작동 확인)

---

## 🎓 오늘의 핵심 학습 요약

### Top 3 배운 것

1. **레거시 디자인 시스템의 문제점 파악**
   - 관심사 분리 실패: UI 컴포넌트가 비즈니스 로직을 포함
   - API 일관성 부족: 같은 기능에 다른 이름 사용
   - 유지보수 어려움: 동적 클래스 로직 반복, 하드코딩된 스타일

2. **현대적인 디자인 시스템 접근법**
   - TailwindCSS: 유틸리티 우선, 빌드 타임 최적화
   - CVA: variants 패턴으로 동적 클래스 관리
   - shadcn/ui: flat 구조, 실용성 중심

3. **체계적인 마이그레이션 계획**
   - 의존성이 적은 컴포넌트부터 (atoms → molecules → organisms)
   - 기준 컴포넌트로 패턴 학습 후 확장
   - 사이드 이펙트 최소화

### 다음 세션 계획

1. **shadcn/ui 초기 설정**
   - `npx shadcn@latest init` 실행
   - components.json 생성
   - 유틸리티 함수 설정

2. **shadcn/ui Button 설치 및 분석**
   - `npx shadcn@latest add button` 실행
   - 생성된 코드 분석
   - CVA variants 패턴 이해
   - before/Button과 비교

3. **Button 컴포넌트 마이그레이션 시작**
   - 비즈니스 로직 분리 계획
   - 필요한 variants 정의
   - 순수 UI 컴포넌트로 재구성

---

## 📊 통계

- 질문 수: 3개
- 해결한 문제: 1개
- 완료한 태스크: 6개
- 분석한 컴포넌트: 5개 (Button, FormInput, FormSelect, FormTextarea, FormCheckbox)

---

## 🔗 참고 자료

### 공식 문서
- [TailwindCSS v4 - Vite 설치 가이드](https://tailwindcss.com/docs/installation/using-vite)
- [shadcn/ui 공식 문서](https://ui.shadcn.com/)
- [CVA (Class Variance Authority)](https://cva.style/docs)

### 프로젝트 문서
- `.claude/doc/chapter_goal.md` - 과제 목표 및 요구사항
- `CLAUDE.md` - 프로젝트 아키텍처 및 가이드
- `.claude/tasks/breakdown.md` - 24개 태스크 분해

### 분석한 파일
- `packages/before/src/components/atoms/Button.tsx`
- `packages/before/src/components/molecules/FormInput.tsx`
- `packages/before/src/components/molecules/FormSelect.tsx`
- `packages/before/src/components/molecules/FormTextarea.tsx`

---

## 📝 PR/회고용 메모

> 🎯 **이 세션의 핵심을 한 문장으로**
> 레거시 디자인 시스템의 문제점을 파악하고, TailwindCSS 환경을 구축하여 현대적인 디자인 시스템 마이그레이션 준비 완료

**PR 작성 시 포함할 내용:**
- Before 패키지 분석 결과
  - 관심사 분리 실패: UI 컴포넌트에 비즈니스 로직 혼재
  - API 일관성 부족: 크기 조절 props가 컴포넌트마다 다름 (width vs size)
  - 하드코딩된 스타일 및 반복되는 동적 클래스 로직
- TailwindCSS v4 설정 완료
  - `@tailwindcss/vite` 플러그인 적용
  - 개발 서버 정상 작동 확인
- 마이그레이션 전략 수립
  - 의존성 기반 우선순위: atoms → molecules → organisms
  - Button 컴포넌트부터 시작하여 CVA 패턴 학습 후 확장

**회고에서 다룰 내용:**
- **잘한 점**:
  - 체계적인 접근: 문서 읽기 → 구조 파악 → 계획 수립
  - 능동적 학습: "왜?"를 질문하며 깊이 이해 (예: -D 플래그 이유)
  - 실습 중심: 직접 실행하며 확인

- **배운 점**:
  - 레거시 시스템 분석의 중요성: 문제를 정확히 알아야 올바른 해결책 도출
  - TailwindCSS가 devDependencies인 이유: 빌드 도구의 특성 이해
  - 마이그레이션은 계획이 중요: 의존성과 우선순위 고려

- **개선할 점**:
  - 다음 세션에서는 더 빠르게 실습 진행
  - shadcn/ui 컴포넌트 분석에 더 많은 시간 할애
  - 실제 코드 작성 비중 높이기

- **다음 목표**:
  - shadcn/ui 설정 및 Button 설치
  - CVA variants 패턴 완전히 이해하기
  - Button 컴포넌트 마이그레이션 완료

---

*생성 시각: 2025-11-25 22:55*
*다음 세션 시작 시 참고: shadcn/ui 초기 설정부터 시작 (npx shadcn@latest init)*
